<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Products</title>
</head>
<body>
<div class="container mb-5">
  <div class="row">
    <div class="col-12" th:if="${products.size()>0}">
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
          <tr>
            <th scope="col">Product name</th>
            <th scope="col">Price</th>
            <th scope="col">Manufacturer</th>
            <th scope="col">Category</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="product : ${products}">
            <td th:text="${product.getName()}"></td>
            <td th:text="${product.getPrice()}"></td>
            <td th:text="${product.getManufacturer()!=null} ? ${product.getManufacturer().getName()}:'No Manufacturer'"></td>
            <td th:text="${product.getCategory()!=null} ? ${product.getCategory().getName()}:'No Category'"></td>
            <td class="text-right">
              <form th:method="delete" th:action="@{'/products/delete/{id}' (id=${product.getId()})}">
                <button type="submit"><i>Delete</i></button>
              </form>
              <a th:href="@{'products/edit-form/{id}' (id=${product.getId()})}"><i>Edit</i></a>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="col md-3">
      <div class="row">
        <div class="col-sm-12 col-md-12">
          <a href="/products/add-form" class="btn btn-block btn-dark">Add new product</a>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>